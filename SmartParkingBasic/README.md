# SmartParkingBasic Example

This example models a simple smart parking system comprising two objectives and two replication constraints (see system description [here](src/edu/vanderbilt/isis/chariot/smartparkingbasic/System.ch)). The objectives are (1) RequestHandling, and (2) OccupancyChecking. These objectives are instantiation of *request_handling* and *occupancy_checking* compositions, respectively (see [composition description](src/edu/vanderbilt/isis/chariot/smartparkingbasic/Functionality.ch)). Between the aforementioned two compositions, there are three functionalities: (1) parking_client, (2) parking_manager, and (3) occupancy_sensor. 

The *parking_manager* functionality is associated with a *voter* replication constraint, therefore it must be deployed as a voter cluster with minimum of 3 and maximum of 5 replications. This means that during the initial deployment there must be enough resources to deploy 5 instances of a component type that provides the *parking_manager* functionality. Furthermore, a specific voter component instance is also deployed. The *occupancy_sensor* functionality is associated with a *per node* replication constraint for nodes of the *EdgeNode* category, therefore an instance of a component type that provides the *occupancy_sensor* functionality must be deployed on every node that belongs to the *EdgeNode* category.

Due to above described replication constraints the number of components deployed when instantiating this system depends on the number of nodes available. Although the exact number of components isn't always constant, we know that this system can only comprise of four kinds of component types: (1) OccupancySensor, (2) ParkingManager, (3) ParkingManagerVoter, and (4) ParkingClient. An instance of the *OccupancySensor* component type provides the *occupancy_sensor* functionality by periodically obtaining and publishing status of one or more parking spaces. An instance of the *ParkingManager* component type provides the *parking_manager* functionality by receiving and storing the status of different parking spaces, and serving client parking requests by determining and assigning available parking spaces. As mentioned above, in this example, the *parking_manager* functionality is associated with a *voter* replication constraint. Therefore, for a set of replicas of the *ParkingManager* component type, an instance of the *ParkingManagerVoter* component type is required. Finally, an instance of the *ParkingClient* component type provides the *parking_client* functionality by requesting for parking spaces.

<img src="https://github.com/visor-vu/chariot-examples/blob/master/SmartParkingBasic/SmartParkingBasic.png" width="65%" height="65%"/>

*NOTE: Current implementation of CHARIOT does not generate voter logic.*
